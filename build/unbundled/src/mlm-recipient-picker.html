<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-dialog/paper-dialog.html">
<link rel="import" href="../paper-radio-button/paper-radio-button.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="../iron-icons/iron-icons.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-listbox/paper-listbox.html">
<link rel="import" href="../neon-animation/neon-animations.html">
<link rel="import" href="../plutonium-login-widget/plutonium-shared-styles.html">



</head><body><dom-module id="mlm-recipient-picker">
    <template>
        <style include="iron-flex iron-flex-alignment plutonium-shared-styles">
            :host {
                display: block;
                box-sizing: border-box;
            }
            /*                        :host div.plutonium-input > paper-input{
                                        @apply(--layout-flex);
                                    }
                                    :host div.plutonium-input {
                                        @apply(--layout-horizontal);
                                    }*/
            :host paper-dialog-scrollable {
                @apply(--layout-vertical);
                height: 300px;
            }

            :host paper-dialog {
                width: 50%;
            }
        </style>


        <paper-dialog id="dialog" class="plutonium widget" modal="" entry-animation="scale-up-animation" exit-animation="scale-down-animation" with-backdrop="">
            <paper-toolbar>
                <h2 id="recipientsPickerTitle">Choose recipients</h2>
            </paper-toolbar>
            <paper-toolbar class="layout horizontal">
                <paper-tabs class="bottom flex" selected="{{selectionMode}}">
                    <paper-tab>Person</paper-tab>
                    <paper-tab>Group</paper-tab>
                </paper-tabs>
            </paper-toolbar>
            <form>
                <paper-dialog-scrollable>
                    <iron-pages selected="{{selectionMode}}" class="layout vertical">
                        <paper-listbox id="contactList" class="layout flex" attr-for-selected="id" multi="" items="[[items]]" as="item" selected-values="{{selectedItemIds}}">
                            <template is="dom-repeat" items="[[items]]">
                                <paper-item id="[[item.id]]" class="layout horizontal">
                                    <label>[[item.name]]</label>
                                </paper-item>
                            </template>
                        </paper-listbox>
                        <paper-listbox id="contactList" class="layout flex" attr-for-selected="id" multi="" items="[[items]]" as="item" selected-values="{{selectedItemIds}}">
                            <template is="dom-repeat" items="[[items]]">
                                <paper-item id="[[item.id]]" class="layout horizontal">
                                    <label>[[item.name]]</label>
                                </paper-item>
                            </template>
                        </paper-listbox>
                    </iron-pages>
                </paper-dialog-scrollable>
                <div class="buttons">
                    <paper-button dialog-dismiss="" raise="">Cancel</paper-button>
                </div>
                <paper-fab icon="done" dialog-confirm="" on-tap="onApply"></paper-fab>
            </form>
        </paper-dialog>
    </template>

    <script>Polymer({is:"mlm-recipient-picker",properties:{selectionMode:{type:Number,notify:!0,value:0},label:{type:String,notify:!0},pickerIcon:{type:String,notify:!0},pickerTitle:{type:String,notify:!0},pickerButtonTooltip:{type:String,notify:!0},as:{type:String,notify:!0},clearIcon:{type:String,notify:!0},clearButtonTooltip:{type:String,notify:!0},attrForSelected:{type:String,notify:!0},selectedItemIds:{type:Array,notify:!0,value:[]},recipients:{type:Array,notify:!0,value:[]},_recipients:{type:String,notify:!0,value:""},items:{type:Object,notify:!0}},observers:["itemsAddedOrRemoved(selectedItemIds.splices)"],ready:function(){},attached:function(){},detached:function(){},itemsAddedOrRemoved:function(e){if(void 0!==e&&null!==e){console.log("mlm-recipient-picker change recipients: "+JSON.stringify(this.selectedItemIds));var t="";void 0!==this.items&&null!==this.items&&this.items.forEach(function(e,i){this.selectedItemIds.indexOf(e.id)>-1&&(t+=e.name+" ")},this),this._recipients=t}},show:function(){this.$.dialog.open()},onApply:function(e,t){this.splice("recipients",0,this.recipients.length),console.log("Selected recipients:"),this.selectedItemIds.forEach(function(e,t){this.push("recipients",e),console.log("- "+e)},this)}});</script>
</dom-module></body></html>