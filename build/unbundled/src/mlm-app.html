<html><head><link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../bower_components/iron-dropdown/iron-dropdown.html">
<link rel="import" href="../bower_components/polymer-cookie/polymer-cookie.html">
<link rel="import" href="../bower_components/plutonium-login-widget/plutonium-secure-application-behavior.html">


<link rel="import" href="mlm-elements.html">


</head><body><dom-module id="mlm-app">

    <template>

        <style include="iron-flex iron-alignment mlm-shared-styles">

            .debug {
                display: none;
                position: absolute;
                bottom: 0px;
                right: 0px;
                /*display: table;*/
                z-index: 10000;
                background-color: yellow;
            }



            :host {
                display: block;
                /*--app-primary-color: #4285f4;*/
                --app-primary-color: var(--paper-indigo-500);
                --app-secondary-color: black;
            }


            app-header {
                background-color: var(--app-primary-color);
                color: #fff;
            }
            app-header paper-icon-button {
                --paper-icon-button-ink-color: white;
            }

            app-drawer {
                --app-drawer-content-container: {
                    box-shadow: 1px 0 2px 1px rgba(0,0,0,0.18);
                }
                --app-drawer-scrim-background: rgba(179, 157, 219, 0.5);
            }


            .drawer-list {
                margin: 0 20px;
            }
            .drawer-list a {
                display: block;
                padding: 0 16px;
                line-height: 40px;
                text-decoration: none;
                color: var(--app-secondary-color);
            }
            .drawer-list a.iron-selected {
                color: black;
                font-weight: bold;
            }
            .drawer-list a.subroute {
                padding-left: 32px;
            }


        </style>

        <app-location route="{{route}}" query-params="{{queryParams}}"></app-location>

        <app-route route="{{route}}" pattern="/registrate" data="{{activationData}}"></app-route>
        <app-route route="{{route}}" pattern="/content-view/:contentId" data="{{contentSubrouteData}}"></app-route>
        <app-route route="{{route}}" pattern="/network-view/:memberId" data="{{memberSubrouteData}}"></app-route>
        <app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}"></app-route>

        <polymer-cookie id="rememberMeCookie" name="rememberMe" value="{{rememberMe}}" time="1" format="d"></polymer-cookie>
        <polymer-cookie id="tokenCookie" name="token" value="{{token}}" time="1" format="d"></polymer-cookie>

        
        <iron-ajax id="sessionAjax" url="[[apiUrl]]/authentication/session?token=[[token]]" last-response="{{session}}" auto=""></iron-ajax>
        <iron-ajax id="localesAjax" url="[[apiUrl]]/localization/locales" last-response="{{locales}}" auto=""></iron-ajax>
        <iron-ajax id="syncSubsAjax" url="[[apiUrl]]/mailbox/subscription" body="{{subscriptionDto}}" content-type="application/json" last-response="{{subsResp}}" method="POST" auto=""></iron-ajax>
        
        <iron-ajax id="mailBoxAjax" url="[[apiUrl]]/mailbox/[[accountId]]/[[selectedMailBoxFolder]]" last-response="{{mailBoxModel}}"></iron-ajax>
        
        <iron-ajax id="profileAjax" url="[[apiUrl]]/addressbook/[[accountId]]/profile" last-response="{{profile}}" auto="[[accountId]]"></iron-ajax>
        <iron-ajax id="changeLanguageAjax" method="POST" handle-as="json" content-type="application/json" url="[[apiUrl]]/localization/change" on-response="handleChangeLanguageResponse" on-error="handleChangeLanguageError" body="{{_changeLanguageModel}}"></iron-ajax>
        
        <iron-ajax id="possibleParentsIronAjax" url="[[apiUrl]]/addressbook/all" last-response="{{possibleParents}}" auto=""></iron-ajax>
        <iron-ajax id="articleDetailAjax" url="[[apiUrl]]/content-management/toc" params="{{editParams}}" last-response="{{editedContentModel}}"></iron-ajax>
        <iron-ajax id="contactsAjax" url="[[apiUrl]]/addressbook/[[session.token]]/contacts" last-response="{{contacts}}" auto=""></iron-ajax>

        <iron-ajax id="rootModelAjax" url="[[apiUrl]]/content-management/toc/info" params="[[infoRequestParams]]" handle-as="json" last-response="{{rootModel}}" auto=""></iron-ajax>
        <iron-ajax id="parentTocAjax" url="[[apiUrl]]/content-management/toc/path" params="[[tocRequestParams]]" handle-as="json" last-response="{{parentModel}}" on-response="onParentTocResponse" on-error="onParentTocError" auto=""></iron-ajax>
        <iron-ajax id="childTocAjax" url="[[apiUrl]]/content-management/toc" params="[[tocRequestParams]]" handle-as="json" on-response="onContentResponse" on-error="onContentError" last-response="{{contentChildrenModel}}" auto=""></iron-ajax>

        <iron-ajax id="publisherAjax" url="[[apiUrl]]/content-management/publish" handle-as="json" content-type="application/json" on-response="onPublishResponse" on-error="onPublishError" method="POST" body="{{publisherModel}}"></iron-ajax>
        <iron-ajax id="unpublisherAjax" url="[[apiUrl]]/content-management/unpublish" handle-as="json" content-type="application/json" on-response="onUnpublishResponse" on-error="onUnpublishError" method="POST" body="{{publisherModel}}"></iron-ajax>
        
        <iron-ajax id="genocideIronAjax" url="[[apiUrl]]/addressbook/genocide" params="[[genocideRequestParams]]" last-response="{{parents}}" auto=""></iron-ajax>
        <iron-ajax id="childrenIronAjax" url="[[apiUrl]]/addressbook/children" params="[[childrenRequestParams]]" last-response="{{children}}" auto=""></iron-ajax>
        <iron-ajax id="parentCandidatesAjax" url="[[apiUrl]]/content-management/candidates/parent" last-response="{{parentCandidates}}" auto=""></iron-ajax>
        
        <iron-ajax id="shareAjax" handle-as="json" content-type="application/json" method="POST" url="[[apiUrl]]/content-management/[[accountId]]/save" body="{{contentModel}}"></iron-ajax>
        
        <iron-ajax id="messageSendAjax" handle-as="json" content-type="application/json" method="POST" on-response="onMessageSendResponse" on-error="onMessageSendError" url="[[apiUrl]]/mailbox/[[accountId]]/send" body="{{shareModel}}"></iron-ajax>

        <mlm-member-editor id="memberEditor" action="[[apiUrl]]/addressbook/save" possible-parents="[[possibleParents]]" locales="[[locales]]">
        </mlm-member-editor>
        <mlm-role-changer-prompt id="promotionDialog" action="[[apiUrl]]/addressbook/promote" owner-id="[[session.token]]" subject-name="[[selectedName]]" operation-name="promote" role-name="administrator" subject-id="[[memberSubrouteData.memberId]]">
        </mlm-role-changer-prompt>
        <mlm-role-changer-prompt id="demotionDialog" action="[[apiUrl]]/addressbook/demote" owner-id="[[session.token]]" subject-name="[[selectedName]]" operation-name="demote" role-name="user" subject-id="[[memberSubrouteData.memberId]]">
        </mlm-role-changer-prompt>
        <mlm-member-delete-prompt id="deleteMemberDialog" action="[[apiUrl]]/addressbook/delete" owner-id="[[session.token]]" subject-name="[[selectedName]]" subject-id="[[memberSubrouteData.memberId]]">
        </mlm-member-delete-prompt>
        <mlm-change-device-dialog id="changeDeviceDialog">
        </mlm-change-device-dialog>
        <mlm-recipient-picker id="recipientPickerDialog" items="{{contacts}}" recipients="{{recipients}}">
        </mlm-recipient-picker>

        <plutonium-article-text-editor id="articleTextEditor" field="[[model.type]]" action-title="Edit section" name="[[model.name]]" title="{{model.title}}" data="{{model.data}}" justification="{{model.justification}}" font-size="{{model.fontSize}}">
        </plutonium-article-text-editor>
        <plutonium-article-video-editor id="articleVideoEditor" name="[[model.name]]" field="[[model.type]]" action-title="Edit video" title="{{model.title}}" data="{{model.data}}" justification="{{model.justification}}" height="{{model.height}}" width="{{model.width}}" font-size="{{model.fontSize}}">
        </plutonium-article-video-editor>
        <plutonium-article-link-editor id="articleLinkEditor" name="[[model.name]]" field="[[model.type]]" action-title="Edit link" title="{{model.title}}" data="{{model.data}}" justification="{{model.justification}}" font-size="{{model.fontSize}}" parent-candidates-url="{{parentCandidatesUrl}}">
        </plutonium-article-link-editor>
        <plutonium-article-image-editor id="articleImageEditor" field="[[model.type]]" name="[[model.name]]" action-title="Edit image" title="{{model.title}}" data="{{model.data}}" justification="{{model.justification}}" height="{{model.height}}" width="{{model.width}}" font-size="{{model.fontSize}}">
        </plutonium-article-image-editor>

        <plutonium-login-widget id="loginWidget" remember-me="{{rememberMe}}" authentication-url="{{apiUrl}}/authentication/signin">
        </plutonium-login-widget>
        <plutonium-logon-widget id="logonWidget" registration-url="[[apiUrl]]/authentication/signon" profile-url="[[apiUrl]]/authentication/{{activationCode}}/profile" activation-code="{{activationCode}}">                                        
        </plutonium-logon-widget>
        <plutonium-passwordreset-widget id="passwordResetWidget" password-reset-url="{{apiUrl}}/reset">
        </plutonium-passwordreset-widget>
        <plutonium-forgottenpassword-widget id="forgottenPasswordWidget" password-reset-url="{{apiUrl}}/reset">
        </plutonium-forgottenpassword-widget>
        

        <app-drawer-layout fullbleed="">

            
            <app-drawer>
                <app-toolbar></app-toolbar>
                <iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
                    
                    <a id="contentMainMenuTitle" name="content-view" href="/content-view/ROOT">Content</a>
                    <a id="networkMainMenuTitle" hidden="[[!session.powerUser]]" name="network-view" href="/network-view/[[session.token]]">Network</a>
                    <a id="mailBoxMainMenuTitle" hidden="[[!session.powerUser]]" name="mailbox-view" href="/mailbox-view/[[session.token]]">Mailbox</a>
                    <a id="aboutMainMenuTitle" name="about-view" href="/about-view">About</a>
                </iron-selector>
            </app-drawer>

            
            <app-header-layout has-scrolling-region="" id="headerLayout">

                <app-header fixed="" shadow="" effects="waterfall" class="layout horizontal">
                    <app-toolbar primary="">
                        <paper-icon-button icon="menu" drawer-toggle=""></paper-icon-button>
                        <div class="flex">
                            <h1 title="">TopFlavon</h1>
                        </div>

                        <plutonium-avatar-button hidden="[[!session]]" user="[[user]]">

                            <a href="/profile-view" class="menu">
                                <paper-item class="menu">
                                    <iron-icon icon="account-circle" item-icon=""></iron-icon>
                                    <span id="profileMenuTitle">Profile</span>
                                </paper-item>
                            </a>
                            <a href="#" on-tap="onLogout" class="menu">
                                <paper-item class="menu">
                                    <iron-icon icon="markunread-mailbox" item-icon=""></iron-icon>
                                    <span id="logoutButtonLabel">Logout</span>
                                </paper-item>
                            </a>
                        </plutonium-avatar-button>

                    </app-toolbar>

                     
                    <app-toolbar id="bottomToolbar" hidden="[[!session.powerUser]]">
                        <iron-pages attr-for-selected="data-route" selected="[[page]]" class="flex" style="padding: 0px">
                            <paper-tabs hidden="[[!session.powerUser]]" data-route="content-view" attr-for-selected="name" selected="{{selectedContentFolder}}" style="width: 100%" autoselect="">
                                <paper-tab text-id="messagesPagePublicFolderTitle" name="public">Public</paper-tab>
                                <paper-tab text-id="messagesPageMyContentsFolderTitle" name="drafts">Drafts</paper-tab>
                                <paper-tab text-id="messagesPagePublishedFolderTitle" name="published">Published</paper-tab>
                            </paper-tabs>
                            <paper-tabs data-route="mailbox-view" attr-for-selected="name" selected="{{selectedMailboxFolder}}" style="width: 100%" autoselect="">
                                <paper-tab text-id="mailBoxPageInboxFolderTitle" name="inbox">Inbox</paper-tab> 
                                <paper-tab text-id="sentItemsPageInboxFolderTitle" name="outbox">Sent items</paper-tab>
                            </paper-tabs>

                            <div data-route="network-view" class="layout horizontal">


                                <paper-tabs selected="{{memberSubrouteData.memberId}}" class="flex" scrollable="" attr-for-selected="id">
                                    <template is="dom-repeat" items="[[parents]]">
                                        <paper-tab id="[[item.id]]" role="[[item.role]]" link="">
                                            <iron-icon class="end-justified" icon="[[getIcon(item.role)]]" href="/network-view/{{item.id}}"></iron-icon>
                                            <a class="member tab" href="/network-view/{{item.id}}">[[item.name]]</a>
                                        </paper-tab>
                                    </template>
                                </paper-tabs>
                            </div>

                        </iron-pages>

                    </app-toolbar>
                </app-header>



                <iron-pages role="main" selected="[[page]]" attr-for-selected="name">
                    <mlm-about-view name="about-view"></mlm-about-view>

                    <mlm-send-view id="sendPage" name="send-view" items="{{contacts}}" api-url="[[apiUrl]]" account-id="[[session.token]]" selected-item-ids="{{recipients}}" content-model="{{editedContentModel}}" selected-meta-action="{{selectedMetaAction}}">
                    </mlm-send-view>
                    <mlm-share-view id="sharePage" name="share-view" items="{{contacts}}" api-url="[[apiUrl]]" account-id="[[session.token]]" selected-item-ids="{{recipients}}" content-model="{{editedContentModel}}" selected-meta-action="{{selectedMetaAction}}">
                    </mlm-share-view>

                    <mlm-profile-view name="profile-view" api-url="[[apiUrl]]" profile="[[profile]]" account-id="[[session.token]]">
                    </mlm-profile-view>

                    <mlm-mailbox-view name="mailbox-view" api-url="[[apiUrl]]" account-id="[[session.token]]" mail-box-model="[[mailBoxModel]]" selected-mail-box-folder="{{selectedMailboxFolder}}">
                    </mlm-mailbox-view>

                    <mlm-network-view id="networkPage" name="network-view" api-url="[[apiUrl]]" genocide-request-params="{{genocideRequestParams}}" children-request-params="{{childrenRequestParams}}" account-id="[[session.token]]" parents="[[parents]]" children="[[children]]" selected-name="{{selectedName}}" selected-role="{{selectedRole}}" selected-account-id="{{memberSubrouteData.memberId}}">
                    </mlm-network-view>

                    <mlm-content-view name="content-view" api-url="[[apiUrl]]" account-id="[[session.token]]" admin="[[session.powerUser]]" owner-id="[[session.token]]" info-request-params="{{infoRequestParams}}" toc-request-params="{{tocRequestParams}}" content-children-model="{{contentChildrenModel}}" selected-article-id="{{contentSubrouteData.contentId}}" selected-content-folder="{{selectedContentFolder}}">
                    </mlm-content-view>
                </iron-pages>
            </app-header-layout>

            <paper-toast id="mainToast"></paper-toast>

        </app-drawer-layout>

        <iron-media-query query="min-width: 600px" query-matches="{{wideLayout}}"></iron-media-query>
    </template>

    <script>function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}Polymer({is:"mlm-app",behaviors:[PlutoniumBehaviors.SecureApplicationBehavior,PlutoniumBehaviors.AuthorizationBehavior],properties:{user:{type:Object,computed:"convertSessionToUser(session)"},applicationTitle:{type:String,value:"TopFlavon"},apiUrl:{type:String,value:"https://cherubits.hu:8443"},subscriptionId:{type:String,notify:!0,observer:"observeSubscriptionId"},subscriptionDto:{type:Object,notify:!0,value:{accountId:null,subscriptionId:null}},model:{type:Object,notify:!0},memberSubrouteData:{type:Object,notify:!0,observer:"observeMemberSubrouteData"},contentSubrouteData:{type:Object,notify:!0,observer:"observeContentSubrouteData"},editParams:{type:Object,notify:!0,value:{}}},listeners:{"memberEditor.iron-form-response":"onCreateMemberResponse","memberEditor.iron-form-error":"onCreateMemberError","deleteMemberDialog.iron-form-response":"onDeleteMemberResponse","deleteMemberDialog.iron-form-error":"onDeleteMemberError","promotionDialog.iron-form-response":"onPromoteMemberResponse","promotionDialog.iron-form-error":"onPromoteMemberError","demotionDialog.iron-form-response":"onDemoteMemberResponse","demotionDialog.iron-form-error":"onDemoteMemberError","sharePage.pick-recipients":"onOpenRecipientsPicker",feedback:"onFeedback","pick-recipients":"onOpenRecipientsPicker","article-text-edit":"onOpenArticleTextEditor","article-video-edit":"onOpenArticleVideoEditor","article-image-edit":"onOpenArticleImageEditor","article-link-edit":"onOpenArticleLinkEditor","modify-model":"onModifyModel","edit-content":"onEditArticle","new-message":"onNavigateToMessage","new-content":"onNavigateToShare","new-member":"onOpenCreateMember","delete-member":"onOpenDeleteMember","promote-member":"onOpenPromoteMember","demote-member":"onOpenDemoteMember","send-to-member":"onNavigateToMessage","change-device":"openChangeDevicePrompt",back:"onBack","fetch-ajax":"onFetch"},observers:["observerAuthority(session.powerUser)"],ready:function(){this.queryParams.code&&(this.activationCode=this.queryParams.code,this.registering=!0)},observeSubscriptionId:function(e){this.session&&(this.subscriptionDto.accountId=this.session.token),this.subscriptionDto&&(this.subscriptionDto.subscriptionId=this.subscriptionId),console.log("Synchronize subscription for FCM:",this.subscriptionDto),this.$.syncSubsAjax.generateRequest()},observerAuthority:function(e){this.$.headerLayout.resetLayout()},observeMemberSubrouteData:function(e){console.log("Member subroute data: "+JSON.stringify(e))},observeContentSubrouteData:function(e){console.log("Content subroute data: "+JSON.stringify(this.contentSubrouteData))},showUserNavigation:function(){console.log("Show user navigation dropdown."),this.$.userNavigation.toggle()},onFeedback:function(e,o){o.message&&(this.$.mainToast.text=o.message,this.$.mainToast.show())},getIcon:function(e){return"GROUP"===e?"supervisor-account":"USER"===e?"star-border":"ADMIN"===e?"star":void 0},onOpenCreateMember:function(e,o){this.$.memberEditor.show()},onCreateMemberResponse:function(e,o){console.log("Member created successfully: "+JSON.stringify(o.response)),this.$.childrenIronAjax.generateRequest(),this.$.possibleParentsIronAjax.generateRequest(),this.fire("feedback",{message:"Member created successfully"})},onCreateMemberError:function(e,o){console.log("Create-member error: "+JSON.stringify(o.response)),this.fire("feedback",{message:"Member creation failed."})},onOpenDeleteMember:function(e,o){this.$.deleteMemberDialog.show()},onDeleteMemberResponse:function(e,o){console.log("Member removed successfully: "+JSON.stringify(o.response)),this.$.networkPage.selectedAccountId=this.session.token,this.$.childrenIronAjax.generateRequest(),this.$.genocideIronAjax.generateRequest(),this.fire("feedback",{message:"Member removed successfully."})},onDeleteMemberError:function(e,o){console.log("Remove-member error: "+JSON.stringify(o.response)),this.fire("feedback",{message:"Member removing failed."})},onOpenPromoteMember:function(e,o){this.$.promotionDialog.show()},onPromoteMemberResponse:function(e,o){console.log("Member promoted successfully: "+JSON.stringify(o.response)),this.$.childrenIronAjax.generateRequest(),this.$.genocideIronAjax.generateRequest(),this.selectedRole="ADMIN",this.fire("feedback",{message:"Member promoted successfully"})},onPromoteMemberError:function(e,o){console.log("Promote-member error: "+JSON.stringify(o.response)),this.fire("feedback",{message:"Member promoting failed."})},onOpenDemoteMember:function(e,o){this.$.demotionDialog.show()},onDemoteMemberResponse:function(e,o){console.log("Member demoted successfully: "+JSON.stringify(o.response)),this.$.childrenIronAjax.generateRequest(),this.$.genocideIronAjax.generateRequest(),this.selectedRole="USER",this.fire("feedback",{message:"Member demoted successfully"})},onDemoteMemberError:function(e,o){console.log("Demote-member error: "+JSON.stringify(o.response)),this.fire("feedback",{message:"Member demoting failed."})},onOpenRecipientsPicker:function(e,o){console.log(this.is+" receive event pick-recipients."),this.$.contactsAjax.generateRequest(),this.$.recipientPickerDialog.show()},openChangeDevicePrompt:function(){this.$.changeDeviceDialog.show()},isContent:function(e){return"share-view"===e},onOpenArticleTextEditor:function(e,o){this.model=o,this.$.articleTextEditor.show()},onOpenArticleVideoEditor:function(e,o){this.model=o,this.$.articleVideoEditor.show()},onOpenArticleImageEditor:function(e,o){this.model=o,this.$.articleImageEditor.show()},onOpenArticleLinkEditor:function(e,o){this.model=o,this.$.articleLinkEditor.show()},onModifyModel:function(e,o){console.log(this.is+" receive modify-model event: "+JSON.stringify(o)),this.$.sharePage.$.pcf.$$('plutonium-article-field[name="'+o.name+'"]').fire("apply-model",o)},onEditArticle:function(e,o){console.log(this.is+" receive edit-content event: "+JSON.stringify(o)),this.editParams.pageId=o.articleId,this.editParams.tag="drafts",this.editParams.owner=this.session.token,this.$.articleDetailAjax.generateRequest(),this.page="share-view"},onLogout:function(e,o){this.session=null,this.page="about-view",this.$.rememberMeCookie.eraseCookie(),this.$.tokenCookie.eraseCookie(),this.fire("unauthorized")},onSessionInitializationError:function(e,o){console.log(this.is+" session fetching failed."),409===o.request.status?(this.$.logonWidget.activationCode=guid(),this.registering=!0):error=JSON.stringify(o.error)},stringify:function(e){return JSON.stringify(e)},onNavigateToMessage:function(){this.set("route.path","/send-view")},onNavigateToShare:function(){this.set("route.path","/share-view")},convertSessionToUser:function(e){return void 0!==e&&null!==e?{displayName:e.userName,email:null}:{displayName:"Anonymous",email:null}},onBack:function(){},onFetch:function(e,o){if(void 0!==o.ids&&null!==o.ids&&o.ids.length>0)for(var t=0;t<o.ids.length;t++)this.$[o.ids[t]].generateRequest()},onContentResponse:function(){console.log("Content fetched for "+this.contentSubrouteData.contentId)},onContentError:function(){console.log("Content fetching failed for "+this.contentSubrouteData.contentId)},onParentTocResponse:function(){console.log("Toc-Content-View parent path success response ("+this.contentSubrouteData.contentId+").")},onParentTocError:function(){console.log("Toc-Content-View parent path failed to respond ("+this.contentSubrouteData.contentId+")."),this.selectedContentFolder="public"},onPublishResponse:function(){this.fire("feedback",{message:"Message published succesfully."})},onPublishError:function(){this.fire("feedback",{message:"Message publishing failed."})},onUnpublishResponse:function(){this.fire("feedback",{message:"Message unpublished succesfully."})},onUnpublishError:function(){this.fire("feedback",{message:"Message publishing failed."})}});</script>

</dom-module>
</body></html>